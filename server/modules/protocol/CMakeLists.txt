add_library(MySQLClient SHARED mysql_client.c mysql_common.c)
target_link_libraries(MySQLClient maxscale-common  MySQLAuth)
set_target_properties(MySQLClient PROPERTIES VERSION "1.0.0")
install_module(MySQLClient core)

add_library(MySQLBackend SHARED mysql_backend.c mysql_common.c)
target_link_libraries(MySQLBackend maxscale-common MySQLAuth)
set_target_properties(MySQLBackend PROPERTIES VERSION "2.0.0")
install_module(MySQLBackend core)

add_library(telnetd SHARED telnetd.c)
target_link_libraries(telnetd maxscale-common)
set_target_properties(telnetd PROPERTIES VERSION "1.0.1")
install_module(telnetd core)

add_library(HTTPD SHARED httpd.c)
target_link_libraries(HTTPD maxscale-common)
set_target_properties(HTTPD PROPERTIES VERSION "1.0.1")
install_module(HTTPD core)

if(BUILD_TESTS)
  add_library(testprotocol SHARED testprotocol.c)
  set_target_properties(testprotocol PROPERTIES VERSION "1.0.0")
  install_module(testprotocol core)
endif()

add_library(maxscaled SHARED maxscaled.c)
target_link_libraries(maxscaled maxscale-common)
set_target_properties(maxscaled PROPERTIES VERSION "1.0.0")
install_module(maxscaled core)

if(BUILD_CDC)
  add_library(CDC SHARED cdc.c)
  target_link_libraries(CDC maxscale-common)
  set_target_properties(CDC PROPERTIES VERSION "1.0.1")
  install_module(CDC core)
endif()
