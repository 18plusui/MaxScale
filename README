/** \mainpage MaxScale by SkySQL

The SkySQL MaxScale is an intelligent proxy that allows forwarding of
database statements to one or more database server user complex rules
and a semantic understanding of the database satements and the roles of
the various servers within the backend cluster of databases.

The MaxScale is designed to provided load balancing and high avilability
functionality transparantly to the applications. In addition it provides
a highly scalable and flexibile architecture, with plugin components to
support differnt protocols and routing decissions.

The MaxScale is implemented in C and makes entensive use of the
asynchronous I/O capabilities of the Linux operating system. The epoll
system is used to provide the event driven framework for the input and
output via sockets.

The protocols are implemented as external shared object modules which
can be loaded and runtime. These modules support a fixed interface,
communicating the entries points via a structure consisting of a set of
function pointers. This structured is called the "module object".

The code that routes the queries to the database servers is also loaed
as external shared objects and are referred to as routing modules.

\section Building Building MaxScale

Edit the file build_gateway.inc in your skygateway directory and set
the ROOT_PATH and MARIADB_SRC_PATH variables to the location in which
you checked out the code and the location of your MariaDB source.

Build the libmysqld in $MARIADB_SRC_PATH

Go to the sky gateway directory and do a make depend to update all the
dependency files and then do a make.

This should get you all the things built that you need.

Other make targets are available

install - Installs the binary and the modules in the location defined by the
make variable DEST

ctags - Build tags files for the vi editor

documentation - Build the doxygen documentation

depend - Update the dependencies used by the makefiles

Two files are required for the libmysqld library that is used within MaxScale,
/usr/local/mysql/share/english/errmsg,sys and a my.cnf file with the following:

[mysqld]
max_connections=4096

\section Running  Running MaxScale

The gateway consists of a core executable and a number of modules that implement
the different protocols and routing algorithms. These modules are built as
shared objects that are loaded on demand. In order for the gateway to find these
modules it will search using a predescribed search path. The rules are:

1. Look in the current directory for the module

2. Look in $MAXSCALE_HOME/modules

3. Look in /usr/local/skysql/MaxScale/modules

Configuration is read by default from the file
$MAXSCALE_HOME/etc/MaxScale.cnf, /etc/MaxScale.cnf, an example file
is included in the root of the source tree. The default value of
MAXSCALE_HOME can be overriden by use of the -c flag on the command
line. This should be immediately followed by the path to the MaxScale
home directory.

The -f flag can be used to set the name of the configuration file
to read in place of the one in the MaxScale home directory. Merely
pass the name of the file to read followinf the -f flag.

*/
